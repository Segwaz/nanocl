Type: Deployment
ApiVersion: v0.4

Namespace: system

Cargoes:
- Name: ndns
  Container:
    Image: ndns:dev
    Tty: true
    Env:
    - TZ=Europe/Paris
    HostConfig:
      NetworkMode: host

- Name: ncddns
  Container:
    Image: ghcr.io/nxthat/nanocl-dev:dev
    Cmd:
    - watch
    - -w
    - /project/bin/ncddns/src
    - -x
    - run --no-default-features --features dev --bin ncddns
    Tty: true
    Env:
    - TZ=Europe/Paris
    HostConfig:
      PortBindings:
        8787/tcp:
        - HostPort: 8787
          HostIp: 0.0.0.0
      NetworkMode: system
      Binds:
      - ./:/project
      - /run/nanocl:/run/nanocl
